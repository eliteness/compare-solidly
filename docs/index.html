<html>
<meta charset="UTF-8">
<head>
	<title>Compare Solidly Forks - eliteness.network/compare-solidly</title>
	<meta name="description" content="Compare Solidly Forks - eliteness.network/compare-solidly : Powered by Guru Network ðŸ¦¾,ðŸš€">
	<meta name="keywords" content="Comparision, Solidly, Dex, Forks">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="https://ftm.guru/icons/solidly.svg" />
	<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="./index.css" />
</head>

<body>
	<div id="root">
		<div class="container text-center my-5">
			<div class="mb-4 flex gap-3 justify-center items-center">
				<div class="icon"></div>
				<h1 class="text-4xl font-bold">Solidly Forks</h1>
			</div>
			<div>
				<h2 class="text-2xl font-bold">Comparision of the Best Solidly Visions!</h2>
				<p class="text-zinc-700 text-xl mt-2"><a href="https://eliteness.network/compare-solidly" target="_blank">eliteness.network/compare-solidly</a></p>
			</div>
		</div>
		<div class="container mt-6 mb-12">
			<div class="pr-1 pb-1 overflow-container">
				<table id="table-wrapper" class="table-wrapper">

				</table>
			</div>
			<div class="container my-10">
				<div class="text-center mb-10">
					<p class="text-lg">Share this page for greater visibility and help us make the Data presented richer
						with
						your precious feedback! <br> Are we missing something interesting? Jump into our <a
							href="https://discord.gg/QpyfMarNrV" target="_blank" rel="noreferrer"
							class="underline text-blue-600 keychainify-checked">Discord</a> to help us with your
						suggestions.
					</p>
				</div>
				<div class="flex items-end lg:justify-between justify-center gap-6 flex-wrap text-center lg:text-left">
					<div>
						<a href="https://eliteness.network" target="_blank" rel="noreferrer" class="text-2xl mb-1 block keychainify-checked">eliteness.network</a>
						<p>An Explorer for Guru Network products &amp; services.</p>
						<div class="flex items-center justify-center lg:justify-start gap-3 mt-4">
							<a href="https://twitter.com/ftm1337" target="_blank" rel="noreferrer" class="block keychainify-checked">
								<img src="https://ftm.guru/icons/twitter.svg" class=" social-icon">
							</a>
							<a href="https://discord.gg/QpyfMarNrV" target="_blank" rel="noreferrer" class="block keychainify-checked">
								<img src="https://ftm.guru/icons/discord.svg" class=" social-icon">
							</a>
							<a href="https://defillama.com/protocol/guru-network-dao" target="_blank" rel="noreferrer" class="block keychainify-checked">
								<img src="https://ftm.guru/icons/defillama.svg" class=" social-icon">
							</a>
							<a href="https://defiwars.xyz/projects/gurunetwork" target="_blank" rel="noreferrer" class="block keychainify-checked">
								<img src="https://ftm.guru/icons/defiwars.svg" class=" social-icon">
							</a>
							<a href="https://coinmarketcap.com/currencies/elite-1337" target="_blank" rel="noreferrer" class="block keychainify-checked">
								<img src="https://ftm.guru/icons/cmc.svg" class="cmc social-icon">
							</a>
						</div>
					</div>
					<div class="max-w-none lg:max-w-[40%]">
						<a href="https://ftm.guru" target="_blank" rel="noreferrer" class="font-bold keychainify-checked">
							Powered by Guru Network, CoinGecko, DefiLlama &amp; various public blockchains &amp; their valuable node service providers. ðŸ¦¾
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>

<script src="https://ftm.guru/ethers-5.2.umd.min.js"></script>
<script src="index.js"></script>



<script>

STATE = {}

////////////////////////////////////////////////////////////////


function $(_) {return document.getElementById(_);}
let provider= {};
let signer= {};
window.addEventListener('load',async function()
{
	console.log("waitin for 1.337 secs..");
	//$("cw_m").innerHTML = "Connecting.. Please wait."
	setTimeout(async () => { await basetrip();  arf() }, 1337);
}, false);








async function basetrip() {

	ETHEREUM = new ethers.providers.JsonRpcProvider("https://rpc.ankr.com/eth");
	OPTIMISM = new ethers.providers.JsonRpcProvider("https://rpc.ankr.com/optimism");
	FANTOM = new ethers.providers.JsonRpcProvider("https://rpc.ankr.com/fantom");
	BSC = new ethers.providers.JsonRpcProvider("https://rpc.ankr.com/bsc");
	ARBITRUM = new ethers.providers.JsonRpcProvider("https://arbitrum.blockpi.network/v1/rpc/public");
	KAVA = new ethers.providers.JsonRpcProvider("https://evm.kava.io");

	cleanStage();

	//dangerous recursion
	try{
		await dr();
	} catch(e) {
		console.log("dr: ",e);
		await cleanStage();
		notice(`<h2>Something went wrong...</h2>Please refresh the page!`);
		//await basetrip();

	}
	//main reason is that ankr's arb1 rpc and kava rpc are extremely unreliable
}




function fornum3(n,d)
{
	_n=(Number(n)/10**Number(d));
	n_=_n;
	if(_n>1e18){n_=(_n/1e18).toFixed(2)+" Qt."}
	else if(_n>1e15){n_=(_n/1e15).toFixed(2)+" Qd."}
	else if(_n>1e12){n_=(_n/1e12).toFixed(2)+" Tn."}
	else if(_n>1e9){n_=(_n/1e9).toFixed(2)+" Bn."}
	else if(_n>1e6){n_=(_n/1e6).toFixed(2)+" Mn."}
	else if(_n>1e3){n_=(_n/1e3).toFixed(2)+" Th."}
	else if(_n>0){n_=(_n/1e0).toFixed(5)+""}
	return(n_);
}

function fornum(n,d)
{
	_n=(Number(n)/10**Number(d));
	n_=_n;
	if(_n>1e18){n_=(_n/1e18).toFixed(3)+"Qt"}
	else if(_n>1e15){n_=(_n/1e15).toFixed(3)+"Qd"}
	else if(_n>1e12){n_=(_n/1e12).toFixed(3)+"T"}
	else if(_n>1e9){n_=(_n/1e9).toFixed(3)+"B"}
	else if(_n>1e6){n_=(_n/1e6).toFixed(3)+"M"}
	else if(_n>1e3){n_=(_n/1e3).toFixed(3)+"K"}
	else if(_n>1e1){n_=(_n/1e0).toFixed(5)+""}
	else if(_n>0.0){n_=(_n/1e0).toFixed(8)+""}
	return(n_);
}

function fornum2(n,d)
{
	_n=(Number(n)/10**Number(d));
	n_=_n;
	if(_n>1e18){n_=(_n/1e18).toFixed(2)+" Quintillion"}
	else if(_n>1e15){n_=(_n/1e15).toFixed(2)+" Quadrillion"}
	else if(_n>1e12){n_=(_n/1e12).toFixed(2)+" Trillion"}
	else if(_n>1e9){n_=(_n/1e9).toFixed(2)+" Billion"}
	else if(_n>1e6){n_=(_n/1e6).toFixed(2)+" Million"}
	else if(_n>1e3){n_=(_n/1e3).toFixed(2)+" Thousand"}
	else if(_n>1){n_=(_n/1e0).toFixed(8)+""}
	return(n_);
}

function notice(c) {
	window.location = "#note";
	$("content1").innerHTML = c;
}



function arf(){
	//o = INITIAL; c=0;
	var xfr = setInterval(
		function(){
			//c++
		},
		500
	)
}



async function cleanStage() {

	//$("srt-header").innerHTML = "<div>Metrics \ DEX</div>";

	$("table-wrapper").innerHTML = `
	<thead class="table-head">
		<tr>
			<th><h3 class="text-xl flex justify-start items-center min-w-max"><span>Metrics Dex</span></h3></th>
			<th><h3 class="text-xl flex justify-start items-center min-w-max"><img src="https://assets.coingecko.com/coins/images/12124/large/Curve.png?1597369484" alt="logo" class="w-6 h-6 mr-2 ml-2 inline-block"><span>Curve</span></h3></th>
			<th><h3 class="text-xl flex justify-start items-center min-w-max"><img src="https://assets.coingecko.com/coins/images/25783/large/velo.png?1653817876" alt="logo" class="w-6 h-6 mr-2 ml-2 inline-block"><span>Velodrome</span></h3></th>
			<th><h3 class="text-xl flex justify-start items-center min-w-max"><img src="https://assets.coingecko.com/coins/images/28231/large/hq_png_icon_file.png?1668572967" alt="logo" class="w-6 h-6 mr-2 ml-2 inline-block"><span>Equalizer</span></h3></th>
			<th><h3 class="text-xl flex justify-start items-center min-w-max"><img src="https://assets.coingecko.com/coins/images/28864/large/IMG_20230129_155910_852.png?1674984924" alt="logo" class="w-6 h-6 mr-2 ml-2 inline-block"><span>Thena</span></h3></th>
			<th><h3 class="text-xl flex justify-start items-center min-w-max"><img src="https://assets.coingecko.com/coins/images/29420/large/RAM_Token_32x32.png?1678678321" alt="logo" class="w-6 h-6 mr-2 ml-2 inline-block"><span>Ramses</span></h3></th>
			<th><h3 class="text-xl flex justify-start items-center min-w-max"><img src="https://assets.coingecko.com/coins/images/29243/large/logos_200_200_px.png?1677575935" alt="logo" class="w-6 h-6 mr-2 ml-2 inline-block"><span>Ã‰quilibre</span></h3></th>
			<th><h3 class="text-xl flex justify-start items-center min-w-max"><img src="https://assets.coingecko.com/coins/images/29622/large/chronos_icono-01.png?1680077336" alt="logo" class="w-6 h-6 mr-2 ml-2 inline-block"><span>Chronos</span></h3></th>
		</tr>
	</thead>
	<tbody id="stage">
			<tr id="sr-method">
				<td></td>
			</tr>
			<tr id="sr-launch">
				<td>Start of Epoch 1</td>
			</tr>

			<tr id="sr-age">
				<td>Age</td>
			</tr>
			<tr id="sr-bcn">
				<td>Blockchain Network</td>
				<td><span id="bcn_1" value="Ethereum, Polygon, Optimism, Fantom, xDai, Arbitrum, Avalanche">7 Chains</span></td>
				<td><span id="bcn_2">Optimism</span></td>
				<td><span id="bcn_6">Fantom</span></td>
				<td><span id="bcn_4">BS. Chain</span></td>
				<td><span id="bcn_3">Arbitrum</span></td>
				<td><span id="bcn_5">Kava</span></td>
				<td><span id="bcn_5">Arbitrum</span></td>
			</tr>

			<tr id="sr-ticker">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Ticker (Symbol)</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-price">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Spot Trading Price</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-sup-cir">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Circulating Supply</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-mc-cir">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Circulating Market Cap</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-sup-ve">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">veToken Total Supply</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-mc-ve">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">veToken Market Cap</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-sup-dil">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Fully Diluted Supply</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-mc-dil">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Fully Diluted Valuation</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-sup-locked">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Supply Locked in ve</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-sup-lockrate-app">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">ve: Apparent Locking Rate</p>
                			<p class="text-xs font-medium text-gray-700 italic">veLocked / (CircSupply + veLocked)</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-sup-lockrate-abs">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">ve: Absolute Locking Rate</p>
                			<p class="text-xs font-medium text-gray-700 italic">Total Supply of ve / Fully Diluted Supply</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-sup-lockrate-eff">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">ve: Effective Locking Rate</p>
                			<p class="text-xs font-medium text-gray-700 italic">veTotalSupply / (CircSupply + veLocked)</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-sup-maxlockrate">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">ve: Max Locked ve</p>
                			<p class="text-xs font-medium text-gray-700 italic">% of locks at full ve-power</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-mint-week">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Minted Supply: Current Week</p>
                			<p class="text-xs font-medium text-gray-700 italic">To be minted this Thursday.</p>
                			<p class="text-xs font-medium text-gray-700 italic">Includes inflation from Rebases.</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-mint-year">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Minted Supply: This Year</p>
                			<p class="text-xs font-medium text-gray-700 italic">Newly minted in next 52 Weeks.</p>
                			<p class="text-xs font-medium text-gray-700 italic">Includes inflation from Rebases.</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-mint-dec">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Minted Supply: Decay Factor</p>
                			<p class="text-xs font-medium text-gray-700 italic">Decrease between consecutive mints.</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-mint-inflation-abs">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Absolute Inflation</p>
                			<p class="text-xs font-medium text-gray-700 italic">Total Supply increase in next 52 Weeks.</p>
                			<p class="text-xs font-medium text-gray-700 italic">Includes inflation from Rebases.</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-mint-inflation-eff">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="font-bold text-lg">Effective Inflation</p>
                			<p class="text-xs font-medium text-gray-700 italic">Annual increase in veToken Supply (Locked) &amp; Circulating supply from minting.</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-mint-week-usd">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Minted Supply: This Week</p>
                			<p class="text-xs font-medium text-gray-700 italic">To be minted this Thursday.</p>
                			<p class="text-xs font-medium text-gray-700 italic">Includes inflation from Rebases.</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-mint-year-usd">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Minted Supply: This Year</p>
                			<p class="text-xs font-medium text-gray-700 italic">Newly minted in next 52 Weeks.</p>
                			<p class="text-xs font-medium text-gray-700 italic">Includes inflation from Rebases.</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-vol-alltime">
    			<td>Volumes: All Time Total</td>
			</tr>
			<tr id="sr-vol-daily-avg">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Volumes: Daily Average</p>
                			<p class="text-xs font-medium text-gray-700 italic">Most recent 365-day average</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-vol-yday">
    			<td>Volumes: Registered Yesterday</td>
			</tr>
			<tr id="sr-vol-epoch-ong">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Volumes: Curr. Epoch</p>
                			<p class="text-xs font-medium text-gray-700 italic">This Thursday till Yesterday</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-vol-epoch-prev">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Volumes: Prev. Epoch</p>
                			<p class="text-xs font-medium text-gray-700 italic">This Thursday till Yesterday</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-fees-alltime">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Fees: All Time Total</p>
                			<p class="text-xs font-medium text-gray-700 italic">Cummulative Total since launch </p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-fees-daily-avg">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Fees: Daily Average</p>
                			<p class="text-xs font-medium text-gray-700 italic">Most recent 365-day average</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-fees-yday">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Fees: Registered Yesterday</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-fees-epoch-ong">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Fees: Curr. Epoch</p>
                			<p class="text-xs font-medium text-gray-700 italic">This Thursday till Yesterday</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-fees-epoch-prev">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Fees: Prev. Epoch</p>
                			<p class="text-xs font-medium text-gray-700 italic">Prev. Thursday till Prev. Wednesday</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-fees-year-adj">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Fees: Past 1 Year</p>
                			<p class="text-xs font-medium text-gray-700 italic">Cummulative Total, extrapolated if &lt;1yr.</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-fees-ann-fdv">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Fees to FDV Ratio</p>
                			<p class="text-xs font-medium text-gray-700 italic">Previous Epoch, Annualized</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-fees-ann-ve-prev">
    			<td>
        			<div class="select-none flex items-start gap-2">
            			<div>
                			<p class="">Fees per $1 of veToken</p>
                			<p class="text-xs font-medium text-gray-700 italic">Previous Epoch, Annualized</p>
            			</div>
        			</div>
    			</td>
			</tr>
			<tr id="sr-fees-apr-ve-prev">
    			<td>
            		<div class="select-none flex items-start gap-2">
                		<div>
                    		<p class="font-bold text-lg">Voting APR: Fees Component</p>
                    		<p class="text-xs font-medium text-gray-700 italic">Previous Epoch</p>
                		</div>
            		</div>
        		</td>
    		</tr>
    		<tr id="sr-fees-ann-ve-year">
        		<td>
            		<div class="select-none flex items-start gap-2">
                		<div>
                    		<p class="">Fees per $1 of veToken</p>
                    		<p class="text-xs font-medium text-gray-700 italic">Past 1 Year, extrapolated if &lt;1yr.</p>
                		</div>
            		</div>
        		</td>
    		</tr>
    		<tr id="sr-fees-apr-ve-year">
        		<td>
                	<div class="select-none flex items-start gap-2">
                    	<div>
                        	<p class="font-bold text-lg">Voting APR: Fees Component</p>
                        	<p class="text-xs font-medium text-gray-700 italic">Past 1 Year, extrapolated if &lt;1yr.</p>
                    	</div>
                	</div>
            	</td>
        	</tr>


			<!--
			<tr id="sr-rev-yday">
				<td>veToken Holder's Earnings: Registered Yesterday</td>
			</tr>
			<tr id="sr-rev-epoch-ong">
				<td>veToken Holder's Earnings: Curr. Epoch (Thu-Ystd)</td>
			</tr>
			<tr id="sr-rev-epoch-prev">
				<td>veToken Holder's Earnings: Prev. Epoch (Thu-Wed)</td>
			</tr>

			-->
		</tbody>
	`;
}



async function dr() {
	// STEP 0 : INITIALIZE
	//cleanStage;return;


	// STEP 1 : initialize CoinGecko Data

	let _cgd = await (await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=curve-dao-token%2Cvelodrome-finance%2Cthena%2Cchronos-finance%2Cramses-exchange%2Cequalizer-dex%2Cequilibre&order=id_asc&per_page=100&page=1&sparkline=false&price_change_percentage=30d&locale=en")).json();
console.log(_cgd)
	// we get an array ordered alphabetically by id
	// remap it to The STATE object

	//STARTS: MUST BE ROUNDED TO THURSDAY MIDNIGHTS (U.T.C.)

	STATE = {
		/// Order of Keys Matters in the STATE!
		/// First Key means First Column, Last Key means Last Column!
		/// We're simply using the order of their respective launch dates
		/// NOTE: `_cgd` indexes will change depending on alpabetical order of cg ids!!! MAKE SURE TO MAKE SURE THIS!!!!!
		0:	( { ... { CSN: 0,	CSID: "CRV",	started: 1596672000 },	... _cgd[1],	desc: "All DEX pools"		} ),
		1:	( { ... { CSN: 1,	CSID: "VELO",	started: 1655337600 },	... _cgd[6],	desc: "v1 + v2"				} ),
		2:	( { ... { CSN: 2,	CSID: "EQUAL",	started: 1668643200 },	... _cgd[2],	desc: "v1 DEX only"	} ),	///+ Equity (Perps)
		3:	( { ... { CSN: 3,	CSID: "THE",	started: 1673481600 },	... _cgd[5],	desc: "v1 + v2 (CL)"		} ),
		4:	( { ... { CSN: 4,	CSID: "RAM",	started: 1679529600 },	... _cgd[4],	desc: "v1 + v2 (CL)"		} ),
		5:	( { ... { CSN: 5,	CSID: "VARA",	started: 1678320000 },	... _cgd[3],	desc: "v1 DEX only"			} ),
		6:	( { ... { CSN: 6,	CSID: "CHR",	started: 1683072000 },	... _cgd[0],	desc: "v1 DEX only"			} ),
		//... add others here as key=ticker & value=cgd[#]
	};

	//ramses supp:diluted hotfix
	STATE[4].total_supply = (await (new ethers.Contract("0xaaa6c1e32c55a7bfa8066a6fae9b42650f262418",["function totalSupply() public view returns(uint256)"],ARBITRUM)).totalSupply())/1e18;
	//ramses hotfix
	//STATE[6].total_supply = (await (new ethers.Contract("0x15b2fb8f08e4ac1ce019eadae02ee92aedf06851",["function totalSupply() public view returns(uint256)"],ARBITRUM)).totalSupply())/1e18;


	let _chr_sup = await Promise.all([
		fetch("https://circulatingapi.chronos.exchange/circulation"),
		(new ethers.Contract("0x15b2fb8f08e4ac1ce019eadae02ee92aedf06851",["function totalSupply() public view returns(uint256)"],ARBITRUM)).totalSupply()
	]);
	STATE[6].circulating_supply = (await _chr_sup[0].json());
	STATE[6].total_supply = _chr_sup[1]/1e18;



	let _k = Object.keys(STATE);

	for(let i=0;i<_k.length;i++) { STATE[i].startDate = new Date(STATE[i].started * 1e3); }
	for(let i=0;i<_k.length;i++) { STATE[i].currentEpoch = Number(((Date.now()/1e3 - STATE[i].started)/86400/7 + 1).toFixed()); }

	//1 6 2 5
	//0 3 2 1

	await paint_basics();

	/// Maintain STATE Order!

	_vol = await Promise.all([
		fetch("https://api.llama.fi/summary/dexs/curve-dex?excludeTotalDataChart=false&excludeTotalDataChartBreakdown=true&dataType=dailyVolume"),
		fetch("https://api.llama.fi/summary/dexs/velodrome?excludeTotalDataChart=false&excludeTotalDataChartBreakdown=true&dataType=dailyVolume"),
		fetch("https://api.llama.fi/summary/dexs/equalizer-exchange?excludeTotalDataChart=false&excludeTotalDataChartBreakdown=true&dataType=dailyVolume"),
		fetch("https://api.llama.fi/summary/dexs/thena?excludeTotalDataChart=false&excludeTotalDataChartBreakdown=true&dataType=dailyVolume"),
		fetch("https://api.llama.fi/summary/dexs/ramses-exchange?excludeTotalDataChart=false&excludeTotalDataChartBreakdown=true&dataType=dailyVolume"),
		fetch("https://api.llama.fi/summary/dexs/equilibre?excludeTotalDataChart=false&excludeTotalDataChartBreakdown=true&dataType=dailyVolume"),
		fetch("https://api.llama.fi/summary/dexs/chronos?excludeTotalDataChart=false&excludeTotalDataChartBreakdown=true&dataType=dailyVolume"),
	]);

	for(let i=0;i<_vol.length;i++) { STATE[i].volumes = await _vol[i].json(); }

	await paint_vols();


	/// Maintain STATE Order!

	_fee = await Promise.all([
		fetch("https://api.llama.fi/summary/fees/curve-dex?dataType=dailyFees"),
		fetch("https://api.llama.fi/summary/fees/velodrome?dataType=dailyFees"),
		fetch("https://api.llama.fi/summary/fees/equalizer-exchange?dataType=dailyFees"),
		fetch("https://api.llama.fi/summary/fees/thena?dataType=dailyFees"),
		fetch("https://api.llama.fi/summary/fees/ramses-exchange?dataType=dailyFees"),
		fetch("https://api.llama.fi/summary/fees/equilibre?dataType=dailyFees"),
		fetch("https://api.llama.fi/summary/fees/chronos?dataType=dailyFees"),
	]);

	for(let i=0;i<_fee.length;i++) { STATE[i].fees = await _fee[i].json(); }

	await paint_fees();


	veabi = ["function supply() public view returns(uint256)","function totalSupply() public view returns(uint256)"]

	_ve_crv =	new ethers.Contract("0x5f3b5dfeb7b28cdbd7faba78963ee202a494e2a2", veabi, ETHEREUM);
	//_ve_velo = new ethers.Contract("0x9c7305eb78a432ced5c4d14cac27e8ed569a2e26", veabi, OPTIMISM);
	_ve_velo =	new ethers.Contract("0xFAf8FD17D9840595845582fCB047DF13f006787d", veabi, OPTIMISM);
	//this is a special one, ignore this implementation
	_ve_equal = new ethers.Contract("0x3a603eCEAE046828FEBBcbd097bF97Adc23DC072", [{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"EQUAL","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"VOTER","outputs":[{"internalType":"contract IVoter","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_e","type":"address"}],"name":"addExcluded","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_o","type":"address"},{"internalType":"address","name":"_s","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_o","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"circulatingMarketCap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"circulatingSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"dilutedSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"excluded","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fdv","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"inExcluded","outputs":[{"internalType":"uint256","name":"_t","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"inGauges","outputs":[{"internalType":"uint256","name":"_t","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"inNFT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"info","outputs":[{"internalType":"uint256[15]","name":"","type":"uint256[15]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"liquidity","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lockRatio","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lockedMarketCap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"marketCap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"outstandingSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pool2","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"price","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"n","type":"uint256"}],"name":"pullExcluded","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"tGURU","outputs":[{"internalType":"contract ItGURU","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"veNFT","outputs":[{"internalType":"contract IveNFT","name":"","type":"address"}],"stateMutability":"view","type":"function"}], FANTOM);
	_ve_the =	new ethers.Contract("0xfbbf371c9b0b994eebfcc977cef603f7f31c070d", veabi, BSC);
	_ve_ram =	new ethers.Contract("0xAAA343032aA79eE9a6897Dab03bef967c3289a06", veabi, ARBITRUM);
	_ve_vara =	new ethers.Contract("0x35361C9c2a324F5FB8f3aed2d7bA91CE1410893A", veabi, KAVA);
	_ve_chr =	new ethers.Contract("0x9a01857f33aa382b1d5bb96c3180347862432b0d", veabi, ARBITRUM);

	_veTotal = await Promise.all([
		_ve_crv.totalSupply(),
		_ve_velo.totalSupply(),
		_ve_equal.info(), //exception
		_ve_the.totalSupply(),
		_ve_ram.totalSupply(),
		_ve_vara.totalSupply(),
		_ve_chr.totalSupply(),
	]);

	await handleEqualExceptions(_veTotal[2]); //2:exception

	for(let i=0;i<_veTotal.length;i++) { if(i!=2) STATE[i].veTotal = Number(_veTotal[i])/1e18; }

	await paint_veTotals();



	//For Lock-Rate
	_veLocked = await Promise.all([
		_ve_crv.supply(),
		_ve_velo.supply(),
		STATE[2].veLocked, //exception
		_ve_the.supply(),
		_ve_ram.supply(),
		_ve_vara.supply(),
		_ve_chr.supply(),
	]);

	for(let i=0;i<_veTotal.length;i++) { if(i!=2) STATE[i].veLocked = Number(_veLocked[i])/1e18; }

	await paint_lockrates();



	await paint_mint_dec();

	mintabi = ["function weekly_emission() public view returns(uint256)","function weekly() public view returns(uint256)"];
	mintabi_crv = ["function mintable_in_timeframe(uint256,uint256) public view returns(uint256)"];

	_mint_crv	=	new ethers.Contract("0xD533a949740bb3306d119CC777fa900bA034cd52", mintabi_crv, ETHEREUM);
	//_mint_velo	=	new ethers.Contract("0x3460dc71a8863710d1c907b8d9d5dbc053a4102d", mintabi, OPTIMISM);
	_mint_velo	=	new ethers.Contract("0x6dc9E1C04eE59ed3531d73a72256C0da46D10982", mintabi, OPTIMISM);
	_mint_equal	=	new ethers.Contract("0x85e7f59248d1c52bd635f27518333f75fb80c72d", mintabi, FANTOM);
	_mint_the	=	new ethers.Contract("0x86069feb223ee303085a1a505892c9d4bdbee996", mintabi, BSC);
	_mint_ram	=	new ethers.Contract("0xaaaa0b6baefaec478eb2d1337435623500ad4594", mintabi, ARBITRUM);
	_mint_vara	=	new ethers.Contract("0x46a88f88584c9d4751db36da9127f12e4dcad6b8", mintabi, KAVA);
	_mint_chr	=	new ethers.Contract("0x233001101d35d7a5cab7d51bcfbab3679ae4dc15", mintabi, ARBITRUM);

	_mint = await Promise.all([
		_mint_crv.mintable_in_timeframe( Math.floor((Date.now()-Date.now()%864e5)/1000), Math.floor((Date.now()-Date.now()%864e5)/1e3)+86400*7 ),
		_mint_velo.weekly(),
		_mint_equal.weekly_emission(),
		_mint_the.weekly_emission(),
		_mint_ram.weekly_emission(),
		_mint_vara.weekly_emission(),
		_mint_chr.weekly_emission(),
	]);

	///for(let i=0;i<_k.length;i++) { STATE[i].mintThisWeek = Number(_mint[i])/1e18; }
	STATE[0].mintThisWeek = Number(_mint[0])/1e18;	//crv

	//velo : rebase  = ((vevelo.total/velo.total)^3)/2, team = 3%
	STATE[1].mintThisWeek  = Number(_mint[1])/1e18 * (1 + ((STATE[1].veTotal/STATE[1].total_supply)**3)/2 + 30/1000  );

	STATE[2].mintThisWeek = Number(_mint[2])/1e18;	//equal

	STATE[3].mintThisWeek  = Number(_mint[3])/1e18;	//the

	STATE[4].mintThisWeek  = Number(_mint[4])/1e18;	//ram

	//vara : rebase  = ((vevelo.total/velo.total)^3)/2, team = 3%
	STATE[5].mintThisWeek  = Number(_mint[5])/1e18 * (1 + ((STATE[5].veTotal/STATE[5].total_supply)**3)/2 + 30/1000  );

	STATE[6].mintThisWeek  = Number(_mint[6])/1e18;	//chr


	for(let i=0;i<_k.length;i++) { STATE[i].mintThisWeekUSD = STATE[i].mintThisWeek * STATE[i].current_price; }


	_mint52 = await Promise.all([
		_mint_crv.mintable_in_timeframe( Math.floor((Date.now()-Date.now()%864e5)/1000), Math.floor((Date.now()-Date.now()%864e5)/1e3)+86400*365 ),
		///////////////////////////////TO-DO:
		////////Use Custom Parameters instead of {{ 0.995, 104, 0.998 }}
		////////
		//velo : rebase  = ((vevelo.total/velo.total)^3)/2, team = 3%
		ann_mint_calc( STATE[1].mintThisWeek, STATE[1].currentEpoch, 0.99 , 104, 0.99  ), //* (1 + ((STATE[1].veTotal/STATE[1].total_supply)**3)/2 + 30/1000  ),
		ann_mint_calc( STATE[2].mintThisWeek, STATE[2].currentEpoch, 0.98 , 104, 0.998 ),	//equal
		ann_mint_calc( STATE[3].mintThisWeek, STATE[3].currentEpoch, 0.99 , 104, 0.99  ),	//the
		ann_mint_calc( STATE[4].mintThisWeek, STATE[4].currentEpoch, 0.99 , 104, 0.99  ),	//ram
		//vara : rebase  = ((vevelo.total/velo.total)^3)/2, team = 3%
		ann_mint_calc( STATE[5].mintThisWeek, STATE[5].currentEpoch, 0.99 , 104, 0.99  ),// * (1 + ((STATE[5].veTotal/STATE[5].total_supply)**3)/2 + 30/1000  ),
		ann_mint_calc( STATE[6].mintThisWeek, STATE[6].currentEpoch, 0.98 , 104, 0.99  ),	//chr
	]);

	for(let i=0;i<_k.length;i++) { STATE[i].mintThisYear = Number(_mint52[i]) / (i==0?1e18:1) ; }
	for(let i=0;i<_k.length;i++) { STATE[i].mintThisYearUSD = STATE[i].mintThisYear * STATE[i].current_price; }

	for(let i=0;i<_k.length;i++) { STATE[i].mintInflationAbsolute =  STATE[i].mintThisYear / STATE[i].total_supply;  }
	for(let i=0;i<_k.length;i++) { STATE[i].mintInflationEffective =  STATE[i].mintThisYear / Math.min(STATE[i].veLocked + STATE[i].circulating_supply, STATE[i].total_supply);  }

	await paint_mints();






}














async function paint_basics(s) {

	let _k = Object.keys(STATE);

	for(let i=0; i< _k.length; i++) {
		$("sr-method").innerHTML += `
			<td class="DID_${_k[i]}">
				${ STATE[ i ].desc == null  ? "unknown methodology" : STATE[ i ].desc }
			</td>
		`;
	}
	for(let i=0; i< _k.length; i++) {
		$("sr-launch").innerHTML += `
			<td class="DID_${_k[i]}">
				${ STATE[ i ].startDate == undefined ? 0 : STATE[ i ].startDate.toDateString().substr(4)  }
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-age").innerHTML += `
			<td class="DID_${_k[i]}">
				${ STATE[ i ].currentEpoch == undefined ? 0 : STATE[ i ].currentEpoch  } Epochs
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-ticker").innerHTML += `
			<td class="DID_${i}">$${ STATE[ i ].symbol == null ? 0 : STATE[ i ].symbol.toUpperCase() }</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-price").innerHTML += `
			<td class="DID_${i}">$${ STATE[ i ].current_price == null ? 0 : STATE[ i ].current_price.toFixed(4) }</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-sup-dil").innerHTML += `
			<td class="DID_${i}">
				${ STATE[ i ].total_supply == null ? 0 : STATE[ i ].total_supply.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
				${ STATE[ i ].symbol == null ? "tokens" : STATE[ i ].symbol.toUpperCase() }
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-sup-cir").innerHTML += `
			<td class="DID_${i}">
				${ STATE[ i ].circulating_supply == null ? 0 : STATE[ i ].circulating_supply.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
				${ STATE[ i ].symbol == null ? "tokens" : STATE[ i ].symbol.toUpperCase() }
			</td>
		`;
	}


	for(let i=0; i< _k.length; i++) {
		$("sr-mc-cir").innerHTML += `
			<td class="DID_${i}">
				$${ STATE[ i ].circulating_supply == null || STATE[ i ].current_price == null ? 0 : (STATE[ i ].circulating_supply * STATE[ i ].current_price).toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-mc-dil").innerHTML += `
			<td class="DID_${i}">
				$${ STATE[ i ].total_supply == null || STATE[ i ].current_price == null ? 0 : (STATE[ i ].total_supply * STATE[ i ].current_price).toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
			</td>
		`;
	}
}



async function paint_lockrates(s) {

	let _k = Object.keys(STATE);

	for(let i=0; i< _k.length; i++) {
		$("sr-sup-lockrate-app").innerHTML += `
			<td class="DID_${i}">
				${
					STATE[ i ].circulating_supply == undefined || STATE[ i ].veLocked == undefined
					? 0
					: (STATE[ i ].veLocked / (STATE[ i ].circulating_supply + STATE[ i ].veLocked) * 100 )
					.toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2})
				}%
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-sup-lockrate-abs").innerHTML += `
			<td class="DID_${i}">
				${
					STATE[ i ].veTotal == undefined || STATE[ i ].total_supply == undefined
					? 0
					: (STATE[i].veTotal / STATE[i].total_supply * 100 )
					.toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2})
				}%
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-sup-lockrate-eff").innerHTML += `
			<td class="DID_${i}">
				${
					STATE[ i ].circulating_supply == undefined || STATE[ i ].veTotal == undefined || STATE[ i ].veLocked == undefined
					? 0
					: (STATE[ i ].veTotal / (STATE[ i ].circulating_supply + STATE[ i ].veLocked) * 100 )
					.toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2})
				}%
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-sup-locked").innerHTML += `
			<td class="DID_${i}">
				${ STATE[ i ].veLocked == undefined ? 0 : STATE[ i ].veLocked.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
				${ STATE[ i ].symbol == null ? "tokens" : STATE[ i ].symbol.toUpperCase() }
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-sup-maxlockrate").innerHTML += `
			<td class="DID_${i}">
				${ STATE[ i ].veTotal == undefined || STATE[ i ].veLocked == undefined ? 0 : ( STATE[i].veTotal / STATE[i].veLocked * 100 ).toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2})
				}%
			</td>
		`;
	}

}


async function paint_vols(s) {

	let _k = Object.keys(STATE);

	for(let i=0; i< _k.length; i++) {
		let _vat = totaller_alltime(STATE[ i ].volumes.totalDataChart);
		STATE[i].volumeAllTime = _vat;
		$("sr-vol-alltime").innerHTML += `
			<td class="DID_${_k[i]}">
				$${ _vat.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-vol-yday").innerHTML += `
			<td class="DID_${_k[i]}">
				$${ STATE[ i ].volumes.total24h == null ? "0" : STATE[ i ].volumes.total24h.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
			</td>
		`;
	}


	for(let i=0; i< _k.length; i++) {
		$("sr-vol-epoch-ong").innerHTML += `
			<td class="DID_${_k[i]}">
				$${ totaller_ong(STATE[ i ].volumes.totalDataChart).toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
			</td>
		`;
		//if(i==6) console.log("fee",_k[i],_dow,_cthu,STATE[ i ].fees.totalDataChart,STATE[ i ].fees.totalDataChart)
	}



	for(let i=0; i< _k.length; i++) {
		$("sr-vol-epoch-prev").innerHTML += `
			<td class="DID_${_k[i]}">
				$${ totaller_prev(STATE[ i ].volumes.totalDataChart).toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
			</td>
		`;
		//if(i==6) console.log("fee",_k[i],_dow,_pthu,STATE[ i ].fees.totalDataChart,STATE[ i ].fees.totalDataChart)
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-vol-daily-avg").innerHTML += `
			<td class="DID_${_k[i]}">
				$${
					STATE[ i ].volumeAllTime == null || STATE[ i ].feesYearAdj == undefined
					? 0
					: ( STATE[i].volumeAllTime / STATE[i].volumes.totalDataChart.length ).toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0})
				}
			</td>
		`;
		//if(i==6) console.log("fee",_k[i],_dow,_pthu,STATE[ i ].fees.totalDataChart,STATE[ i ].fees.totalDataChart)
	}

}

async function paint_fees(s) {

	let _k = Object.keys(STATE);


	for(let i=0; i< _k.length; i++) {
		let _fat = totaller_alltime(STATE[ i ].fees.totalDataChart);
		STATE[i].feesAllTime = _fat;
		$("sr-fees-alltime").innerHTML += `
			<td class="DID_${_k[i]}">
				$${ _fat.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-fees-yday").innerHTML += `
			<td class="DID_${_k[i]}">
				$${ STATE[ i ].fees.total24h == null ? "0" : STATE[ i ].fees.total24h.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		let _feo = totaller_ong(STATE[ i ].fees.totalDataChart);
		STATE[i].feesEpochOngoing = _feo;
		$("sr-fees-epoch-ong").innerHTML += `
			<td class="DID_${_k[i]}">
				$${ _feo.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
			</td>
		`;
		//if(i==6) console.log("fee",_k[i],_dow,_cthu,STATE[ i ].fees.totalDataChart,STATE[ i ].fees.totalDataChart)
	}


	for(let i=0; i< _k.length; i++) {
		let _fep = totaller_prev(STATE[ i ].fees.totalDataChart);
		STATE[i].feesEpochPrevious = _fep;
		$("sr-fees-epoch-prev").innerHTML += `
			<td class="DID_${_k[i]}">
				$${ _fep.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
			</td>
		`;
		//if(i==6) console.log("fee",_k[i],_dow,_pthu,STATE[ i ].fees.totalDataChart,STATE[ i ].fees.totalDataChart)
	}

	for(let i=0; i< _k.length; i++) {
		let _fya = totaller_year_adj(STATE[ i ].fees.totalDataChart);
		STATE[i].feesYearAdj = _fya;
		$("sr-fees-year-adj").innerHTML += `
			<td class="DID_${_k[i]}">
				$${ _fya.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
			</td>
		`;
		//if(i==6) console.log("fee",_k[i],_dow,_pthu,STATE[ i ].fees.totalDataChart,STATE[ i ].fees.totalDataChart)
	}


	for(let i=0; i< _k.length; i++) {
		$("sr-fees-ann-fdv").innerHTML += `
			<td class="DID_${_k[i]}">
				${
					STATE[ i ].feesYearAdj == null || STATE[ i ].feesYearAdj == undefined
					? 0
					: (
						STATE[ i ].feesYearAdj
						/ (STATE[ i ].total_supply * STATE[ i ].current_price)
					).toLocaleString(undefined,{minimumFractionDigits:4,maximumFractionDigits:4})
				}
			</td>
		`;
		//if(i==6) console.log("fee",_k[i],_dow,_pthu,STATE[ i ].fees.totalDataChart,STATE[ i ].fees.totalDataChart)
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-fees-daily-avg").innerHTML += `
			<td class="DID_${_k[i]}">
				$${
					STATE[ i ].feesYearAdj == null || STATE[ i ].feesYearAdj == undefined
					? 0
					: ( STATE[ i ].feesYearAdj / 365).toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2})
				}
			</td>
		`;
		//if(i==6) console.log("fee",_k[i],_dow,_pthu,STATE[ i ].fees.totalDataChart,STATE[ i ].fees.totalDataChart)
	}

}

/*

// day of last data
let _dow = (new Date()).getDay();
// defillama doesnt have today's data
_dow--;

D	GD	SI	FI		SI	FI
su	0	0	3		4	10
mo	1	0	4		5	11
tu	2	0	5		6	12
we	3	0	6		7	13
th	4	0	0		1	7
fr	5	0	1		2	8
sa	6	0	2		3	9
*/

function totaller_ong(ob) {
	let _t=0;
	let _dow = (new Date()).getDay(); _dow--;	// defillama doesnt have today's data
	let _thu = _dow > 3 ? _dow-4 : _dow+3;
	for(let _toi=0; _toi <= _thu ; _toi++ ) {
		_t += ob[ ob.length - 1 - _toi ][1];
	}
	return _t;
}
function totaller_prev(ob) {
	let _t=0;
	let _dow = (new Date()).getDay(); _dow--;	// defillama doesnt have today's data
	let _skip = _dow > 3 ? _dow-3 : _dow+4;
	for(let _toi=_skip; _toi <= _skip+6 ; _toi++ ) {
		_t += ob[ ob.length - 1 - _toi ][1];
	}
	return _t;
}
function totaller_year_adj(ob) {
	let _t=0;
	let _skip = ob.length >= 365 ? ob.length - 365 : 0;
	for(let _toi=_skip; _toi < ob.length ; _toi++ ) {
		_t += ob[ _toi ][1];
	}
	if (_skip == 0 ) { _t = _t / ob.length * 365; }
	return _t;
}
function totaller_alltime(ob) {
	let _t=0;
	for(let _toi=0; _toi < ob.length ; _toi++ ) {
		_t += ob[ _toi ][1];
	}
	return _t;
}

async function handleEqualExceptions(_e) {
	STATE[2].current_price = Number(_e[1])/1e18;
	STATE[2].circulating_supply = Number(_e[2])/1e18;
	STATE[2].total_supply = Number(_e[4])/1e18;
	STATE[2].veTotal = Number(_e[8])/1e18;
	STATE[2].veLocked = Number(_e[5])/1e18;
	cleanStage();
	paint_basics();
	paint_vols();
	paint_fees();
}


async function paint_veTotals(s) {

	let _k = Object.keys(STATE);

	for(let i=0; i< _k.length; i++) {
		$("sr-sup-ve").innerHTML += `
			<td class="DID_${_k[i]}">
				${ STATE[ i ].veTotal == undefined ? "0" : STATE[ i ].veTotal.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
				ve${ STATE[ i ].symbol == null ? "tokens" : STATE[ i ].symbol.toUpperCase() }
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-mc-ve").innerHTML += `
			<td class="DID_${_k[i]}">
				$${ STATE[ i ].veTotal == undefined || STATE[ i ].current_price == undefined
				? "0"
				: (STATE[ i ].veTotal * STATE[ i ].current_price).toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-fees-ann-ve-prev").innerHTML += `
			<td class="DID_${_k[i]}" style="font-size:;font-weight:">
				$${
					STATE[ i ].veTotal == undefined || STATE[ i ].current_price == undefined || STATE[ i ].feesEpochPrevious == undefined
					? "0"
					: (
						(STATE[ i ].feesEpochPrevious / 7 * 365 )
						/ (STATE[ i ].veTotal * STATE[ i ].current_price)
					).toLocaleString(undefined,{minimumFractionDigits:4,maximumFractionDigits:4})
				}
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-fees-apr-ve-prev").innerHTML += `
			<td class="DID_${_k[i]}" style="font-size:1.25em;font-weight: bolder;">
				${
					STATE[ i ].veTotal == undefined || STATE[ i ].current_price == undefined || STATE[ i ].feesEpochPrevious == undefined
					? "0"
					: (
						(STATE[ i ].feesEpochPrevious / 7 * 365 )
						/ (STATE[ i ].veTotal * STATE[ i ].current_price)
						* 100
					).toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2})
				}%
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-fees-ann-ve-year").innerHTML += `
			<td class="DID_${_k[i]}" style="font-size:;font-weight:">
				$${
					STATE[ i ].veTotal == undefined || STATE[ i ].current_price == undefined || STATE[ i ].feesEpochPrevious == undefined
					? "0"
					: (
						(STATE[ i ].feesYearAdj )
						/ (STATE[ i ].veTotal * STATE[ i ].current_price)
					).toLocaleString(undefined,{minimumFractionDigits:4,maximumFractionDigits:4})
				}
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-fees-apr-ve-year").innerHTML += `
			<td class="DID_${_k[i]}" style="font-size:1.25em;font-weight:bolder;">
				${
					STATE[ i ].veTotal == undefined || STATE[ i ].current_price == undefined || STATE[ i ].feesEpochPrevious == undefined
					? "0"
					: (
						(STATE[ i ].feesYearAdj )
						/ (STATE[ i ].veTotal * STATE[ i ].current_price)
						* 100
					).toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2})
				}%
			</td>
		`;
	}

}

async function paint_mint_dec() {
	let _k = Object.keys(STATE);

	$("sr-mint-dec").innerHTML += `
		<td class="DID_${_k[0]}">+0.00%</td>
		<td class="DID_${_k[1]}">-1.00%</td>
		<td class="DID_${_k[2]}">-2.00%</td>
		<td class="DID_${_k[3]}">-1.00%</td>
		<td class="DID_${_k[4]}">-1.00%</td>
		<td class="DID_${_k[5]}">-1.00%</td>
		<td class="DID_${_k[6]}">-2.00%</td>
	`;
}


async function ann_mint_calc(_curr_mint, _curr_ep, _main_dec, _tail_ep, _tail_dec) {
	let _tm = 0;
	let _lmm = 0;
	let i=0;
	for(i=_curr_ep;i < _curr_ep + 52; i++) {
		if(i < _tail_ep) {
			_lmm = _curr_mint * _main_dec ** (i-_curr_ep);
			_tm += _lmm;
		}
		if (i >= _tail_ep) {
			_tm += _lmm * _tail_dec ** (i-_curr_ep);
		}
	}
	return _tm;
}

async function paint_mints(s) {

	let _k = Object.keys(STATE);

	for(let i=0; i< _k.length; i++) {
		$("sr-mint-week").innerHTML += `
			<td class="DID_${_k[i]}">
				${ STATE[ i ].mintThisWeek == undefined ? 0 : STATE[ i ].mintThisWeek.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
				${ STATE[ i ].symbol == null ? "tokens" : STATE[ i ].symbol.toUpperCase() }
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-mint-week-usd").innerHTML += `
			<td class="DID_${_k[i]}">
				$${ STATE[i].mintThisWeekUSD == undefined ? 0 : STATE[ i ].mintThisWeekUSD.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
			</td>
		`;
	}
	for(let i=0; i< _k.length; i++) {
		$("sr-mint-year").innerHTML += `
			<td class="DID_${_k[i]}">
				${ STATE[ i ].mintThisYear == undefined ? 0 : STATE[ i ].mintThisYear.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
				${ STATE[ i ].symbol == null ? "tokens" : STATE[ i ].symbol.toUpperCase() }
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-mint-year-usd").innerHTML += `
			<td class="DID_${_k[i]}">
				$${ STATE[i].mintThisYearUSD == undefined ? 0 : STATE[ i ].mintThisYearUSD.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:0}) }
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-mint-inflation-abs").innerHTML += `
			<td class="DID_${_k[i]}" style="font-size:;font-weight: ;">
				${
					STATE[i].mintThisWeekUSD == undefined
					? 0
					: (STATE[i].mintInflationAbsolute * 100).toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2})
				}%
			</td>
		`;
	}

	for(let i=0; i< _k.length; i++) {
		$("sr-mint-inflation-eff").innerHTML += `
			<td class="DID_${_k[i]}" style="font-size:1.5em;font-weight: bolder;">
				${
					STATE[i].mintThisWeekUSD == undefined
					? 0
					: (STATE[i].mintInflationEffective * 100).toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2})
				}%
			</td>
		`;
	}

}
</script>
</html>